
{% extends "home/base2.html" %}
{% load static %}
{% block title %}Update Task {% endblock %}

{% block content %}
<div class="m-4">
<h2>Update Task</h2>
<span style="color: red; font-weight:bold;">{{msg1}}</span><br>
{% for message in messages %}
<span style="color: red; font-weight:bold;">{{message}}</span><br>
{% endfor %}
<div class="container-fluid">
               
    <!-- Row -->
    <div class="row">
        
    </div>
        <!-- Column -->
        <!-- Column -->
        <div class="row">
        <div class="col-lg-12 col-xlg-12 col-md-12">
            <div class="card">
                <div class="card-body">                               
                    <form class="form-horizontal form-material mx-2" action="{% url 'update-task' task.id %}" method="POST">
                    {% csrf_token %}
                    
                    <div class="row">
                        
                        <div class="col-md-12 form-group">
                            <label class="mb-0">Title <span class="text-danger">*</span></label>
                            <div class="">
                                <input type="text" name = "title" value="{{task.title}}"
                                    class="form-control ps-0 form-control-line" required>
                            </div>
                        </div>                                    
                    </div>
                    <div class="row">
                        <div class="col-md-12 form-group">
                            <label class=" mb-0">Description <span class="text-danger">*</span></label>
                            <div class="">
                                <input type="text" name = "description" value="{{task.description}}"
                                    class="form-control ps-0 form-control-line">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 form-group">
                            <label class="mb-0">Due Date <span class="text-danger">*</span> ({{task.due_date}})</label>
                            <div class="">
                                <input type="date" name = "due_date" value="{{task.due_date}}"
                                    class="form-control ps-0 form-control-line" required>
                            </div>
                        </div>
                        
                    </div>
                    <div class="row">
                        <div class="col-md-12 form-group">
                            <label for="example-email" class="">Status<span class="text-danger">*</span> ({{task.status}})</label>
                            <select style="width: 100%;" class="border-bottom px-4 py-2" name="status" required>
                                <option value="{{task.status}}">{{task.status}} - Selected</option>                
                                <option value="Complete">Complete</option>
                                <option value="Incomplete">Incomplete</option>
                                <option value="In progress">In progress</option>                        
                            </select>    
                        </div>
                    </div>
                        
                    <div class="form-group row">
                    <div class="col-6 d-flex">                                            
                        <button type="submit" style="background-color: rgb(131, 10, 10);"
                         class="btn mx-auto mx-md-0 text-white">Update Task</button>                                       
                                                                    
                    </div>
                </div>
                
                    
                    </form>
                </div>
            </div>
        </div>
        <!-- Column -->
    </div>
    {% for task in tasks %}
    <p class="mt-4"><span class="text-danger">Title: </span>{{task.title}} <span class="text-danger">Description: </span>{{task.description}} <span class="text-danger">Due date: </span> {{task.due_date}} <span class="text-danger">Status: </span> {{task.status}}</p><hr>

    {% endfor %}
  
</div>

</div>

</div>
</div>
{% endblock %}